# FlipQuiz 翻測卡：翻牌記憶 × 測驗練習

這是一個現代化、輕量級的網頁學習工具，專為學習語言、背誦名詞解釋或準備考試設計。
它完全在瀏覽器端運行，**不需要後端伺服器**，並直接支援讀取 **Google Sheets (試算表)** 發佈的 CSV 資料。

## ✨ 全新特色

- **SRS 學習儀表板 (New)**：
  - **狀態看板**：一目了然掌握「🔴 待複習」、「🔵 未學習」與「🟢 已精通」的卡片數量。
  - **專注複習模式**：自動篩選今日到期與新卡片，專注於當下任務。
  - **SRS 評分互動**：支援「重來 (Again)」、「困難 (Hard)」、「良好 (Good)」、「簡單 (Easy)」四級評分介面。
- **免修改程式碼**：直接在網頁介面輸入 Google Sheets CSV 網址即可載入題庫，切換不同題庫更方便。
- **深色模式 (Dark Mode)**：依照系統設定自動切換深色/淺色主題，保護眼睛。
- **智慧分類**：自動偵測題庫中的分類標籤，可隨時篩選特定單元進行練習。
- **智慧快取與進度記憶**：
  - **獨立進度**：系統會分別記住每一個分類的閱讀進度（例如：「歷史」讀到第 5 題，「英文」讀到第 10 題），切換時自動跳轉。
  - **狀態還原**：重新整理網頁後，完美還原上次所在的分類與卡片。
- **互動體驗優化**：
  - **觸覺回饋**：支援手機震動回饋 (Haptic Feedback)，答錯時提供即時震動提示。
  - **無障礙支援**：自動偵測系統「減少動態效果」設定，將劇烈搖晃改為溫和的縮放提示。
- **雙重學習模式**：
  - **翻卡模式 (Flashcard)**：經典的翻牌記憶法，點擊翻面查看答案與補充筆記。
  - **測驗模式 (Quiz)**：支援選擇題互動，答對自動翻面，答錯震動提示。
- **鍵盤快捷鍵**：
  - `←` `→`：切換題目 (瀏覽模式)。
  - `Space`：翻轉卡片。
  - `1` `2` `3` `4`：SRS 評分 (複習模式)。
- **強化 CSV 解析**：支援更複雜的題目內容（如包含逗號或引號的文字）。

## 🚀 快速開始

1. **下載專案**：將此專案下載或 Clone 到本地。
2. **開啟網頁**：直接雙擊 `index.html` 透過瀏覽器開啟。
3. **載入題庫**：
   - 在上方的輸入框貼上您的 Google Sheets CSV 網址。
   - 點擊「載入題庫」。
4. **選擇模式**：
   - **📖 瀏覽模式**：自由瀏覽所有卡片。
   - **🧠 複習模式**：開始今日的 SRS 複習任務。

## ⚙️ 如何建立自己的題庫

您不需要懂程式碼，只需要會用 Google Excel (Sheets)。

### 1. 建立 Google Sheet
請建立一個新的 Google 試算表，第一列（標題列）**必須**包含以下欄位名稱（大小寫需一致）：

| 欄位名稱 (Header) | 必填 | 說明 | 範例內容 |
| :--- | :---: | :--- | :--- |
| `category` | 否 | 題目分類，用於篩選 | 單字 / 文法 / 歷史 |
| `type` | **是** | `flashcard` (翻卡) 或 `quiz` (選擇題) | quiz |
| `question` | **是** | 題目顯示的文字 | Apple |
| `options` | 否 | 選項 (僅 quiz 需填)，用**分號** `;` 分隔 | 蘋果;香蕉;橘子 |
| `answer` | **是** | 正確答案 | 蘋果 |
| `note` | 否 | 背面的補充說明 | 複數形為 Apples |
| `uid` | 否 | 題目的唯一識別碼 (Row Index)，用於同步進度 | 1 |
| `srs_level` | 否 | SRS 學習階段 (0-5) | 0 |
| `next_review` | 否 | 下次複習日期 (YYYY-MM-DD) | 2023-12-31 |
| `interval` | 否 | 複習間隔天數 | 1 |
| `easiness` | 否 | SM-2 演算法的難易度係數 | 2.5 |

### 2. 發佈為 CSV
這是最重要的一步，確保網頁能讀取資料：

1. 在 Google Sheet 點選左上角 **「檔案」** > **「共用」** > **「發佈到網路」**。
2. 選擇 **「整份文件」** (或指定工作表)。
3. 格式請務必選擇 **「逗點分隔值 (.csv)」**。
4. 點擊「發佈」，複製產生的連結。
5. 將此連結貼到 FlipQuiz 網頁上的輸入框即可！

## 🔮 待實踐功能 (Roadmap)

我們正致力於將 FlipQuiz 升級為完整的 SRS (Spaced Repetition System) 學習工具：

1.  **間隔重複記憶法 (SRS)**:
    -   [x] **SRS 介面實作**：Dashboard、評分按鈕、複習佇列。
    -   [ ] **SM-2 演算法整合**：根據評分精確計算下次複習時間。
2.  **Google Sheets 雙向同步**:
    -   整合 **Google OAuth2** 登入。
    -   支援**寫回**學習進度 (SRS 數據) 到您的 Google Sheet，而不僅僅是讀取。
3.  **跨裝置進度同步**:
    -   利用 Google Sheet 作為後端資料庫，實現電腦與手機間的無縫學習體驗。
    -   即使清除瀏覽器快取，進度也不會遺失。

## 📂 專案結構

```text
FlipQuiz/
├── index.html      # 主應用程式介面 (語意化 HTML5)
├── style.css       # 視覺樣式 (CSS Variables, Dark Mode, RWD)
├── js/             # 模組化 JavaScript (ES6 Modules)
│   ├── main.js             # 主程式入口與事件綁定
│   ├── ui.js               # UI 渲染與 DOM 操作
│   ├── flashcardManager.js # 題庫狀態管理
│   ├── dataLoader.js       # 資料非同步載入
│   ├── utils.js            # 通用工具 (CSV 解析、洗牌)
│   └── cache.js            # 快取管理 (開發中)
└── README.md       # 說明文件
```

## 🛠️ 技術棧

- **Core**: Vanilla JavaScript (ES6+ Modules)
- **UI/UX**: CSS3 (Grid/Flexbox), 3D Transforms, Responsive Design
- **Data**: Google Sheets CSV Feed

## 📄 授權

本專案採用 [MIT License](LICENSE) 授權，歡迎自由修改與使用。
